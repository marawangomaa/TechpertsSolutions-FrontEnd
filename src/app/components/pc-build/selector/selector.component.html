<table class="table table-dark table-bordered table-hover text-center">
  <thead>
    <tr>
      <th>Component</th>
      <th>Product</th>
      <th>Title</th>
      <th>Price</th>
      <th>Link</th>
      <th>Remove</th>
    </tr>
  </thead>
  <tbody>
    @for (component of components; track component.name) {
      <tr>
        <td>{{ component.name }}</td>

        <td>
          @if (!component.selected) {
            <button class="btn btn-outline-info"
                    (click)="navigateToCategory(component.name)">
              ADD Component
            </button>
          } @else {
            {{ component.selectedProduct?.name }}
            <button class="btn btn-sm btn-outline-warning ms-2"
                    (click)="chooseAnother(component.name)">
              Choose Another
            </button>
          }
        </td>

        <td>{{ component.selectedProduct?.title ?? '-' }}</td>
        <td>{{ component.selectedProduct?.price ?? '-' }}</td>
        <td>
          @if (component.selectedProduct?.link) {
            <a [href]="component.selectedProduct?.link" target="_blank">Product Link</a>
          }
        </td>

        <td>
          @if (component.selected) {
            <button class="btn btn-outline-danger btn-sm"
                    (click)="removeComponent(component.name)">
              Remove
            </button>
          }
        </td>
      </tr>
    }
  </tbody>
</table>
